프리토타입 생성 서비스 (클로드)


업로드하신 파일과 프로젝트 지식을 먼저 확인하겠습니다.


파일 내용을 확인했습니다. 이제 프로젝트 지식에서 관련 문서 작성 가이드를 검색하겠습니다.


프로젝트 지식과 업로드된 파일을 모두 확인했습니다. FlashCheck 서비스에 대한 체계적인 문서 작성 계획을 수립해 드리겠습니다.


---


# 📋 FlashCheck 문서화 마스터 플랜


## 현황 분석


업로드하신 파일에는 이미 상당히 풍부한 기획 내용이 담겨 있습니다. 다만, 이 내용들이 **대화 형식**으로 산발적으로 정리되어 있어 AI 에이전트가 일관되게 참조할 수 있는 **구조화된 문서**로 재정립이 필요합니다.


---


## 📑 작성할 문서 목록 및 담당 페르소나


| 순서 | 문서명 | 페르소나 | 역할 설명 |
|:---:|:---|:---|:---|
| 1 | **서비스 개요** | **Marty Cagan** (Silicon Valley Product Group 파트너, 『인스파이어드』 저자) | 제품의 본질과 핵심 가치를 명확히 정의하는 프로덕트 비저너리 |
| 2 | **PRD** | **Shreyas Doshi** (전 Stripe PM Lead, 전 Twitter/Google PM) | 실행 가능하면서도 맥락이 풍부한 PRD를 설계하는 시니어 PM |
| 3 | **기술 스택** | **Kelsey Hightower** (전 Google Cloud 개발자 애드보킷) | 실용적이고 확장 가능한 기술 선택을 안내하는 기술 전도사 |
| 4 | **시스템 구조** | **Martin Fowler** (ThoughtWorks 수석 과학자, 소프트웨어 아키텍처 대가) | 복잡성을 관리하고 명확한 구조를 설계하는 아키텍트 |
| 5 | **유저 흐름 구조** | **Julie Zhuo** (전 Facebook 디자인 VP, 『매니저의 길』 저자) | 사용자 관점에서 경험을 설계하는 UX 리더 |
| 6 | **데이터 흐름 구조** | **Jay Kreps** (Confluent CEO, Apache Kafka 창시자) | 데이터의 생성, 이동, 처리를 설계하는 데이터 아키텍트 |


---


## 📝 문서별 상세 작성 계획


### 1️⃣ 서비스 개요 (Marty Cagan 페르소나)


**목적**: AI가 서비스의 방향을 잃지 않도록 하는 "나침반" 역할


**포함 내용**:
- 서비스가 해결하는 **핵심 문제** (창업가의 아이디어 검증 장벽)
- **핵심 가치 제안** (Speed, Validation, Safety)
- **타겟 사용자** 정의
- **성공의 모습** (비전)
- 유사 서비스와의 **차별점**


**작성 방향**:
> "이 서비스는 '왜' 존재해야 하는가?"에 대한 명확한 답을 제시


---


### 2️⃣ PRD (Shreyas Doshi 페르소나)


**목적**: AI 에이전트가 일관된 방향으로 개발할 수 있는 "판단 기준" 제공


**9가지 필수 구성요소**:


| 항목 | 내용 |
|:---|:---|
| 배경 및 맥락 | 왜 이 제품이 필요한가? 시장 상황과 고객 고통 |
| 목적 및 목표 | 해결하려는 문제와 측정 가능한 목표 |
| 주요 사용자 스토리 | "창업 준비생으로서, 10분 안에 아이디어를 검증하고 싶다" |
| 성공 지표 | CTR, CVR, 이메일 수집률, Go/Drop 판정 정확도 |
| 핵심 기능 & 제외 항목 | XYZ 입력, AI 생성, 트래픽 부스터 vs PG 연동 제외 |
| UX/디자인 가이드 | 80/20 에디터 원칙, 모바일 퍼스트 |
| 시스템 요구사항 | 플랫폼, 기술적 제약 |
| 가정/제약/의존성 | 법적 안전장치, Meta API 의존성 |
| 릴리즈 & 실험 계획 | Phase 1~3 단계별 접근 |


---


### 3️⃣ 기술 스택 (Kelsey Hightower 페르소나)


**목적**: "왜 이 기술을 선택했는가"에 대한 명확한 근거 제시


**포함 내용**:
- **Frontend**: Next.js 선정 이유 (SEO, 동적 페이지 생성)
- **Hosting**: Vercel (Wildcard Subdomain 지원)
- **Backend/DB**: Supabase (인증, 실시간 데이터)
- **AI Engine**: OpenAI API (GPT-4o, DALL-E 3)
- **Email**: Resend API
- **각 스택의 장단점** 및 **시너지 효과**
- **확장 시 변경 필요 여부** 검토


---


### 4️⃣ 시스템 구조 (Martin Fowler 페르소나)


**목적**: 서비스가 "어떻게 동작하는가"를 한눈에 파악


**포함 내용**:
- **전체 시스템 아키텍처 다이어그램** (Mermaid)
- 클라이언트 ↔ 서버 ↔ DB ↔ 외부 API 연결 구조
- **각 컴포넌트의 역할**과 **상호작용 방식**
- **확장 가능성** 및 **잠재적 병목 지점**
- 이 구조가 **최선인 이유**


---


### 5️⃣ 유저 흐름 구조 (Julie Zhuo 페르소나)


**목적**: 사용자가 "어떤 경험을 통해 목적을 달성하는가" 설계


**포함 내용**:
- **Step 1**: 가설 입력 (XYZ)
- **Step 2**: AI 파사드 생성 (미리보기)
- **Step 3**: 80/20 에디터 (수정)
- **Step 4**: 배포 & 트래픽 부스터 (결제)
- **Step 5**: 데이터 대시보드 (결과 확인)
- 각 단계별 **사용자의 감정 상태**와 **핵심 액션**
- **이탈 방지 장치** (완벽주의 함정 경고 등)


---


### 6️⃣ 데이터 흐름 구조 (Jay Kreps 페르소나)


**목적**: 데이터가 "어디서 생성되어 어떻게 처리되는가" 명시


**포함 내용**:
- **데이터 유형별 흐름**:
  - 사용자 입력 데이터 (XYZ 가설)
  - AI 생성 데이터 (카피, 이미지)
  - 행동 데이터 (클릭, 전환)
  - 리드 데이터 (이메일)
- **데이터 저장 위치** (Supabase 테이블 구조)
- **데이터 처리 파이프라인**
- **개인정보 처리** 및 **보안 고려사항**


---


## 🗂️ 작성 순서 및 의존 관계


```
① 서비스 개요
      ↓
② PRD (서비스 개요 기반)
      ↓
③ 기술 스택 (PRD의 시스템 요구사항 기반)
      ↓
④ 시스템 구조 (기술 스택 기반)
      ↓
⑤ 유저 흐름 구조 (PRD의 사용자 스토리 기반)
      ↓
⑥ 데이터 흐름 구조 (시스템 구조 + 유저 흐름 기반)
```


---


## ✅ 다음 단계 제안


영탁님, 이 계획에 대해 몇 가지 확인이 필요합니다.


1. **작성 범위**: 6개 문서를 모두 진행하시겠습니까, 아니면 우선순위가 높은 일부 문서부터 시작하시겠습니까?


2. **작성 방식**: 각 문서를 순차적으로 작성하며 검토받으시겠습니까, 아니면 전체 초안을 한 번에 받아보시겠습니까?


3. **추가 정보**: 업로드된 기획서에는 상당히 풍부한 내용이 있지만, 몇 가지 부분(예: 구체적인 가격 정책, 초기 타겟 시장 규모, MVP 출시 목표 일정 등)은 확인이 필요할 수 있습니다. 이러한 부분은 작성 과정에서 질문드려도 괜찮으시겠습니까?


어떻게 진행하면 좋을지 말씀해 주시면, 첫 번째 문서부터 시작하겠습니다.알겠습니다. 서비스 개요부터 시작하겠습니다.


---


# 🎯 서비스 개요 작성


## 페르소나: Marty Cagan
> *Silicon Valley Product Group 파트너, 『인스파이어드(Inspired)』 저자*
> *"좋은 제품은 고객의 진짜 문제를 해결한다. 기능이 아니라 가치를 정의하라."*


---


업로드해 주신 기획 내용을 검토했습니다. 핵심적인 방향은 잘 잡혀 있으나, **AI 에이전트가 일관되게 참조할 수 있는 구조화된 형태**로 재정립이 필요합니다.


서비스 개요 초안을 작성하기 전에, 몇 가지 핵심 사항을 확인하고 싶습니다.


---


## 📋 확인이 필요한 사항


### 1. 핵심 문제 정의


기획서에서 이 서비스가 해결하려는 문제를 다음과 같이 이해했습니다:


> **"창업가들이 아이디어의 시장성을 검증하기 전에 개발에 시간과 돈을 쏟아붓고, 결국 실패하는 문제"**


이 문제 정의가 영탁님의 의도와 일치하는지요? 혹시 다르게 표현하고 싶으신 부분이 있으신가요?


---


### 2. 타겟 사용자 명확화


기획서에서는 "창업 준비생"이 주요 타겟으로 언급되어 있습니다. 조금 더 구체화하면 좋을 것 같습니다.


**다음 중 1차 타겟으로 가장 적합한 사용자는 누구인가요?**


| 유형 | 특징 |
|:---|:---|
| A. 예비 창업가 | 아이디어는 있지만 아직 사업을 시작하지 않은 직장인/학생 |
| B. 초기 스타트업 | 이미 창업했으나 신규 제품/피벗 아이디어 검증이 필요한 팀 |
| C. 1인 메이커 | 사이드 프로젝트로 제품을 만들고 싶은 개발자/디자이너 |
| D. 마케터/기획자 | 신규 캠페인이나 프로모션의 반응을 사전 테스트하고 싶은 실무자 |


---


### 3. 핵심 차별점


기획서에서 "트래픽 부스터"를 핵심 차별점으로 강조하셨습니다.


> *"페이지 제작 툴은 많지만, 내 페이지에 사람을 꽂아주는 툴은 없다"*


이 차별점이 **FlashCheck의 가장 중요한 경쟁 우위**라고 보시는 것이 맞는지요? 아니면 다른 요소(예: XYZ 가설 기반 AI 생성, 법적 안전장치 등)가 더 중요하다고 생각하시나요?


---


### 4. 서비스명 확정 여부


현재 **"FlashCheck(플래시체크)"**가 가제로 사용되고 있습니다.


이 이름으로 진행해도 괜찮으신가요? 혹은 다른 후보(예: DoorKnock 등)를 고려 중이신가요?


---


위 4가지 사항에 대해 답변해 주시면, 바로 **서비스 개요 초안**을 작성해 드리겠습니다.죄송합니다. 불필요한 질문이 많았습니다. 바로 초안을 작성하겠습니다.


---


타겟 사용자에 대해 제 판단을 말씀드리면, **마케터/기획자가 1차 타겟**이 맞다고 봅니다. 이유는 다음과 같습니다:


- 이들은 이미 "랜딩페이지 테스트", "A/B 테스트", "전환율" 같은 개념에 익숙합니다
- 서비스의 가치를 설명 없이도 즉시 이해할 수 있습니다
- 회사 예산으로 결제할 수 있어 가격 저항이 낮습니다
- 이들이 먼저 사용하고 입소문을 내면, 예비 창업가로 확장이 자연스럽습니다


핵심 차별점도 "트래픽 부스터" 하나가 아니라, **"AI 자동 생성 + 법적 안전장치 + 트래픽 주입 + Go/Drop 판정"**이 하나의 파이프라인으로 연결된다는 점이 진짜 차별점이라고 봅니다. 단순 랜딩페이지 빌더가 아니라 **"검증 완결 시스템"**인 것이죠.


---


이제 서비스 개요 초안을 작성하겠습니다.


---


# 📄 FlashCheck 서비스 개요 (초안)


## 페르소나: Marty Cagan
> *"고객이 원하는 것을 만들지 말고, 고객의 문제를 해결하라."*


---


## 1. 서비스 정체성


| 항목 | 내용 |
|:---|:---|
| **서비스명** | FlashCheck (플래시체크) |
| **슬로건** | "상상은 그만, 10분 만에 증명하세요." |
| **한 줄 정의** | 아이디어의 시장성을 코딩 없이 10분 만에 검증하는 프리토타입 자동화 플랫폼 |


---


## 2. 해결하려는 문제


### 문제 상황
창업가와 기획자들은 새로운 아이디어가 떠오르면 흥분에 휩싸여 곧바로 개발에 착수합니다. 몇 개월의 시간과 수천만 원의 비용을 쏟아부은 후에야 "아무도 이걸 원하지 않았다"는 사실을 깨닫습니다.


### 핵심 원인
- **검증 방법을 모름**: "이거 나오면 살래?"라는 질문은 무의미합니다. 사람들은 예의상 "응"이라고 답하기 때문입니다.
- **검증 비용이 높음**: 제대로 된 랜딩페이지를 만들고, 광고를 집행하고, 데이터를 분석하려면 전문 지식과 시간이 필요합니다.
- **법적 리스크 우려**: "가짜 구매 버튼"이 사기로 오인될까 두려워 시도조차 못합니다.


### 본질적 문제
> **"아이디어가 될지 안 될지 모르는 상태에서, 확인할 방법 없이 도박을 해야 하는 것"**


---


## 3. 해결 방안


### 핵심 컨셉: 프리토타입(Pretotype)
알베르토 사보이아의 《아이디어 불패의 법칙》에서 말하는 "프리토타입"을 서비스화합니다.


- **프로토타입(Prototype)**: "이것을 만들 수 있는가?" (기술적 구현 가능성)
- **프리토타입(Pretotype)**: "이것을 만들어야 하는가?" (시장성 검증)


### FlashCheck의 접근법
1. **XYZ 가설 입력**: 복잡한 기획서 대신 "누가(X), 무엇을(Y), 얼마에(Z)" 세 가지만 입력
2. **AI 파사드 자동 생성**: GPT-4o가 카피를, DALL-E 3가 제품 이미지를 즉시 생성
3. **법적 안전장치 내장**: "사전 예약" 프레이밍, 개인정보 동의, 푸터 고지 자동 적용
4. **트래픽 주입**: 광고 소재 자동 생성 + 타겟 고객에게 노출
5. **데이터 기반 판정**: 클릭률, 전환율을 분석해 "Go/Drop" 판정 제공


---


## 4. 핵심 가치 제안


| 가치 | 설명 |
|:---|:---|
| **Speed (속도)** | 10분 안에 검증용 랜딩페이지 완성. 기존 대비 10배 빠름 |
| **Validation (검증)** | "의견"이 아닌 "행동 데이터"로 시장성 확인. 실제 클릭과 이메일 수집 |
| **Safety (안전)** | 법적 리스크 없는 "가짜 문(Fake Door)" 설계. 결제 기능 원천 배제 |


---


## 5. 타겟 사용자


### 1차 타겟: 마케터 & 기획자
- 신규 캠페인, 프로모션, 제품 아이디어의 반응을 사전 테스트하고 싶은 실무자
- A/B 테스트, 전환율 개념에 익숙하여 서비스 가치를 즉시 이해
- 회사 예산으로 빠르게 의사결정 가능


### 2차 타겟: 예비 창업가 & 1인 메이커
- 아이디어는 있지만 개발 전 검증이 필요한 직장인, 학생, 사이드 프로젝터
- 코딩 능력이 없어도 아이디어를 테스트할 수 있는 도구 필요


### 사용자의 핵심 Job-to-be-Done
> "내 아이디어에 진짜 돈을 낼 사람이 있는지, 개발하기 전에 확인하고 싶다"


---


## 6. 경쟁 환경 및 차별점


### 기존 대안의 한계


| 대안 | 한계 |
|:---|:---|
| 랜딩페이지 빌더 (Wix, Carrd) | 페이지는 만들지만, 트래픽은 스스로 모아야 함 |
| 광고 대행사 | 비용이 높고, 소규모 테스트에 부적합 |
| 설문조사 | "의견"만 수집. 실제 구매 의지와 괴리 |
| 크라우드펀딩 | 준비 기간이 길고, 실패 시 브랜드 타격 |


### FlashCheck의 차별점
> **"생성 → 배포 → 트래픽 → 분석 → 판정"이 하나의 파이프라인으로 연결된 유일한 서비스**


- 다른 서비스들은 이 중 일부만 제공합니다
- FlashCheck는 **검증의 전 과정을 자동화**하여, 사용자가 "아이디어 입력 → 결과 확인"만 하면 됩니다


---


## 7. 성공의 모습 (비전)


### 단기 (6개월)
- 마케터/기획자 사이에서 "아이디어 테스트할 때 FlashCheck 써봤어?"가 자연스러운 대화가 됨
- 월 500건 이상의 프리토타입 생성


### 중기 (1년)
- 창업 커뮤니티에서 "개발 전에 FlashCheck부터"가 상식으로 자리잡음
- 검증 성공률(Go 판정 후 실제 런칭) 데이터 축적


### 장기 (2년+)
- 검증 데이터를 기반으로 투자자/액셀러레이터 연결 플랫폼으로 확장
- "FlashCheck에서 Go 받은 아이디어"가 신뢰의 증표가 됨


---


## 8. 핵심 성공 지표


| 지표 | 설명 | 목표 (MVP) |
|:---|:---|:---|
| 프리토타입 생성 수 | 서비스 활성도 | 월 100건 |
| 트래픽 부스터 전환율 | 수익 모델 검증 | 30% |
| 평균 검증 소요 시간 | 핵심 가치 달성 | 15분 이내 |
| 사용자 재방문율 | 서비스 만족도 | 40% |


---


## 검토 요청


영탁님, 서비스 개요 초안입니다.


특히 다음 부분에 대해 피드백 부탁드립니다:
1. **2번 "해결하려는 문제"** 섹션이 의도하신 바와 일치하는지
2. **5번 "타겟 사용자"**에서 1차 타겟을 마케터/기획자로 설정한 것이 괜찮은지


수정이 필요한 부분이나 추가하고 싶은 내용이 있으시면 말씀해 주세요.알겠습니다. 피드백 반영하겠습니다.


---


## 수정 사항


### 7.2 기술적 제약 (수정)


| 영역 | 제약 | 이유 |
|:---|:---|:---|
| AI 생성 | LLM API 및 이미지 생성 AI 필요 | 카피라이팅, 이미지 생성 (구체적 모델은 기술 스택 단계에서 결정) |
| 이미지 텍스트 | 대부분의 이미지 생성 AI가 텍스트를 정확히 생성 못함 | CSS/Canvas로 텍스트 오버레이 필요 |
| 트래픽 부스터 | Meta 광고 정책 준수 필수 | 광고 소재 사전 검수 필요 |


### 7.3 성능 요구사항 (수정)


| 항목 | 기준 |
|:---|:---|
| AI 생성 완료 시간 | 120초 이내 (생성 중 진행 상황 표시로 체감 대기 시간 최소화) |
| 페이지 로딩 속도 | 3초 이내 |
| 배포 완료 시간 | 즉시 (30초 이내) |
| 동시 접속자 | 100명 (MVP 기준) |


---


## Phase 1에 대해


FlashCheck로 FlashCheck를 검증하는 것, 아주 좋은 접근입니다. 기획서에서 David Kim도 정확히 이 방법을 권장했었죠.


> *"FlashCheck의 랜딩페이지를 직접 만들고, 인스타그램 광고를 5만원어치 돌려보세요. CTR이 2% 넘으면 시장성 확인."*


서비스의 첫 번째 성공 사례가 자기 자신이 되는 셈입니다.


---


PRD 수정 완료했습니다. 다음 **기술 스택** 단계로 넘어갈까요?기술 스택 단계를 시작하겠습니다.


---


# 🛠️ FlashCheck 기술 스택 (초안)


## 페르소나: Kelsey Hightower
> *전 Google Cloud 개발자 애드보킷*
> *"가장 좋은 기술은 문제를 해결하는 기술이다. 유행이 아니라 목적에 맞게 선택하라."*


---


## 1. 기술 스택 선정 원칙


FlashCheck의 기술 스택은 다음 원칙에 따라 선정합니다:


| 원칙 | 이유 |
|:---|:---|
| **검증된 스택 우선** | AI 에이전트가 참고할 자료가 풍부해야 개발 효율이 높음 |
| **무료/저비용 시작** | MVP 단계에서 비용 부담 최소화 |
| **빠른 배포** | 아이디어 검증 서비스답게 개발-배포 사이클이 빨라야 함 |
| **확장 가능성** | 사용자 증가 시 큰 변경 없이 스케일 가능해야 함 |


---


## 2. 기술 스택 구성


### 2.1 전체 스택 요약


| 영역 | 기술 | 선정 이유 |
|:---|:---|:---|
| **Frontend** | Next.js 14 (App Router) | SSR/SSG 지원, SEO 최적화, 동적 라우팅 |
| **Styling** | Tailwind CSS | 빠른 UI 개발, 일관된 디자인 시스템 |
| **Backend/DB** | Supabase | 인증, DB, 스토리지 올인원, 무료 티어 넉넉 |
| **Hosting** | Vercel | Next.js 최적화, 서브도메인 배포 용이 |
| **AI (카피라이팅)** | *결정 예정* | 아래 옵션 참고 |
| **AI (이미지 생성)** | *결정 예정* | 아래 옵션 참고 |
| **Email** | Resend | 개발자 친화적, 무료 티어 월 3,000건 |
| **Analytics** | Vercel Analytics + 자체 구현 | 기본 트래픽 + 커스텀 이벤트 추적 |


---


### 2.2 Frontend: Next.js 14


**선정 이유**


| 장점 | FlashCheck에서의 활용 |
|:---|:---|
| 동적 라우팅 | `[slug].flashcheck.com` 형태의 프리토타입 페이지 생성 |
| SSR/SSG | 생성된 프리토타입 페이지 SEO 최적화 |
| API Routes | 백엔드 로직을 별도 서버 없이 처리 |
| 이미지 최적화 | AI 생성 이미지 자동 최적화 |
| React 생태계 | 풍부한 UI 컴포넌트 라이브러리 활용 |


**대안 비교**


| 옵션 | 장점 | 단점 | 판정 |
|:---|:---|:---|:---|
| Next.js | 풀스택, Vercel 최적화 | 학습 곡선 있음 | ✅ 채택 |
| Remix | 빠른 로딩, 좋은 DX | Vercel 연동 약함 | ❌ |
| SvelteKit | 가볍고 빠름 | 생태계 작음, AI 에이전트 참고 자료 적음 | ❌ |


---


### 2.3 Styling: Tailwind CSS


**선정 이유**


| 장점 | FlashCheck에서의 활용 |
|:---|:---|
| 유틸리티 퍼스트 | 빠른 UI 개발, 일관된 스타일 |
| 반응형 기본 지원 | 모바일 퍼스트 디자인 용이 |
| AI 에이전트 친화적 | 클래스명이 명확해 AI가 코드 생성하기 좋음 |


**추가 고려: shadcn/ui**
- Tailwind 기반 컴포넌트 라이브러리
- 버튼, 모달, 폼 등 기본 컴포넌트 빠르게 구현 가능
- 복사해서 사용하는 방식이라 커스터마이징 자유로움


---


### 2.4 Backend/Database: Supabase


**선정 이유**


| 기능 | FlashCheck에서의 활용 |
|:---|:---|
| PostgreSQL DB | 사용자, 프리토타입, 리드 데이터 저장 |
| Authentication | 소셜 로그인 (Google, Kakao) |
| Storage | AI 생성 이미지 저장 |
| Realtime | 대시보드 실시간 업데이트 (방문자 수 등) |
| Edge Functions | 서버리스 백엔드 로직 |


**무료 티어 한도**


| 항목 | 한도 | MVP 충분 여부 |
|:---|:---|:---|
| DB 용량 | 500MB | ✅ 충분 |
| Storage | 1GB | ✅ 충분 |
| 월간 활성 사용자 | 50,000명 | ✅ 충분 |
| Edge Function 호출 | 500,000회/월 | ✅ 충분 |


**대안 비교**


| 옵션 | 장점 | 단점 | 판정 |
|:---|:---|:---|:---|
| Supabase | 올인원, 무료 티어 넉넉 | 복잡한 쿼리 시 한계 | ✅ 채택 |
| Firebase | Google 생태계 | NoSQL이라 관계형 데이터 불편 | ❌ |
| PlanetScale | MySQL 기반, 스케일 좋음 | 인증/스토리지 별도 구성 필요 | ❌ |


---


### 2.5 Hosting: Vercel


**선정 이유**


| 장점 | FlashCheck에서의 활용 |
|:---|:---|
| Next.js 최적화 | 제로 설정 배포 |
| Wildcard Subdomain | `user-idea.flashcheck.com` 형태 배포 |
| Edge Network | 전세계 빠른 로딩 |
| Preview Deployments | PR마다 미리보기 URL 자동 생성 |


**무료 티어 한도**


| 항목 | 한도 | MVP 충분 여부 |
|:---|:---|:---|
| 대역폭 | 100GB/월 | ✅ 충분 |
| 빌드 시간 | 6,000분/월 | ✅ 충분 |
| 서버리스 함수 실행 | 100GB-시간/월 | ✅ 충분 |


---


### 2.6 AI 기술 (결정 필요)


영탁님이 직접 결정하신다고 하셨으므로, 옵션을 정리해 드립니다.


#### 카피라이팅 AI 옵션


| 옵션 | 장점 | 단점 | 비용 (1,000회 기준) |
|:---|:---|:---|:---|
| **GPT-4o** | 최고 품질, 한국어 우수 | 비용 높음 | ~$15 |
| **GPT-4o-mini** | 가성비 좋음, 속도 빠름 | 품질 약간 낮음 | ~$0.6 |
| **Claude 3.5 Sonnet** | 긴 맥락, 자연스러운 톤 | API 제한적 | ~$9 |
| **Claude 3.5 Haiku** | 빠르고 저렴 | 품질 약간 낮음 | ~$0.5 |


#### 이미지 생성 AI 옵션


| 옵션 | 장점 | 단점 | 비용 (1,000회 기준) |
|:---|:---|:---|:---|
| **DALL-E 3** | OpenAI 통합, 프롬프트 이해도 높음 | 텍스트 렌더링 약함 | ~$40 |
| **Midjourney** | 최고 품질 | API 없음 (비공식만 존재) | - |
| **Stable Diffusion (API)** | 저렴, 커스터마이징 가능 | 품질 편차 큼 | ~$2 |
| **Ideogram** | 텍스트 렌더링 우수 | API 제한적 | ~$10 |
| **Flux** | 빠르고 품질 좋음 | 신규 서비스라 안정성 미검증 | ~$5 |


#### 제 권장안


| 용도 | 권장 | 이유 |
|:---|:---|:---|
| 카피라이팅 | **GPT-4o-mini** | MVP 단계에서 가성비 최적, 품질도 충분 |
| 이미지 생성 | **DALL-E 3** 또는 **Flux** | DALL-E는 통합 용이, Flux는 가성비 |


**질문**: 어떤 AI를 사용하실 계획인가요? 또는 추가로 검토하고 싶은 옵션이 있으신가요?


---


### 2.7 Email: Resend


**선정 이유**


| 장점 | FlashCheck에서의 활용 |
|:---|:---|
| 개발자 친화적 API | 간단한 코드로 이메일 발송 |
| React Email 지원 | 이메일 템플릿을 React로 작성 |
| 무료 티어 | 월 3,000건 (MVP 충분) |


**활용 시나리오**
- 사용자 회원가입 확인 이메일
- 프리토타입 배포 완료 알림
- 트래픽 부스터 결과 리포트


---


### 2.8 Analytics


**구성**


| 도구 | 용도 |
|:---|:---|
| **Vercel Analytics** | 기본 트래픽 분석 (페이지뷰, 방문자) |
| **자체 구현 (Supabase)** | 커스텀 이벤트 추적 (버튼 클릭, 전환 등) |


**자체 구현 이유**
- 프리토타입 페이지의 방문자 행동은 FlashCheck의 핵심 데이터
- 외부 도구에 의존하지 않고 직접 수집/분석해야 함
- Supabase에 이벤트 로그 테이블 생성하여 추적


---


## 3. 스택 간 시너지


```
[사용자] 
    ↓
[Next.js + Tailwind] ← 빠른 UI 개발
    ↓
[Vercel] ← 즉시 배포, 서브도메인
    ↓
[Supabase] ← 인증, DB, 스토리지 통합
    ↓
[AI API] ← 카피 + 이미지 생성
    ↓
[Resend] ← 이메일 발송
```


**시너지 효과**
- Next.js + Vercel: 제로 설정 배포, 최적화 자동 적용
- Next.js + Supabase: 공식 SDK로 쉬운 연동
- Supabase Auth + Storage: 사용자별 이미지 저장 권한 관리 용이
- 모두 무료 티어가 넉넉해 MVP 비용 최소화


---


## 4. 비용 추정 (MVP 기준)


**월간 사용량 가정**: 프리토타입 100건 생성, 방문자 5,000명


| 항목 | 예상 비용 |
|:---|:---|
| Vercel (Hosting) | $0 (무료 티어) |
| Supabase (DB/Auth) | $0 (무료 티어) |
| AI 카피라이팅 (GPT-4o-mini, 100건) | ~$0.1 |
| AI 이미지 생성 (DALL-E 3, 100건) | ~$4 |
| Resend (이메일) | $0 (무료 티어) |
| 도메인 (flashcheck.com) | ~$12/년 |
| **월 총계** | **~$5** |


---


## 5. 확장 시 고려사항


MVP 이후 사용자가 증가하면 다음 변경이 필요할 수 있습니다:


| 상황 | 대응 |
|:---|:---|
| DB 용량 초과 | Supabase Pro 플랜 ($25/월) |
| 트래픽 급증 | Vercel Pro 플랜 ($20/월) |
| AI 비용 증가 | 캐싱 도입, 저렴한 모델 혼용 |
| 실시간 기능 확장 | Supabase Realtime 활용 |


**핵심**: 현재 스택에서 플랜 업그레이드만으로 대응 가능. 기술 스택 자체를 바꿀 필요 없음.


---


## 6. 기술 스택 확정 전 결정 필요 사항


| 항목 | 옵션 | 영탁님 결정 |
|:---|:---|:---|
| 카피라이팅 AI | GPT-4o / GPT-4o-mini / Claude 등 | ? |
| 이미지 생성 AI | DALL-E 3 / Flux / Stable Diffusion 등 | ? |


위 두 가지만 결정해 주시면 기술 스택 문서를 확정하고, 다음 **시스템 구조** 단계로 넘어가겠습니다.알겠습니다. 기술 스택 확정하고 시스템 구조로 넘어가겠습니다.


---


## ✅ 기술 스택 최종 확정


| 영역 | 기술 |
|:---|:---|
| Frontend | Next.js 14 (App Router) + Tailwind CSS |
| Backend/DB | Supabase |
| Hosting | Vercel |
| AI (카피라이팅) | **Claude Sonnet 4.5** |
| AI (이미지 생성) | **나노바나나 (NanoBanana)** |
| Email | Resend |
| Analytics | Vercel Analytics + 자체 구현 |


---


# 🏗️ FlashCheck 시스템 구조 (초안)


## 페르소나: Martin Fowler
> *ThoughtWorks 수석 과학자, 소프트웨어 아키텍처 대가*
> *"좋은 아키텍처는 결정을 미룰 수 있게 해준다. 복잡성을 관리하고, 변경을 쉽게 만들어라."*


---


## 1. 시스템 아키텍처 개요


```mermaid
flowchart TB
    subgraph Client["클라이언트 (Browser)"]
        UI[Next.js Frontend]
    end


    subgraph Vercel["Vercel Platform"]
        SSR[Next.js SSR/API Routes]
        Edge[Edge Functions]
    end


    subgraph Supabase["Supabase"]
        Auth[Authentication]
        DB[(PostgreSQL)]
        Storage[Storage]
        Realtime[Realtime]
    end


    subgraph ExternalAI["외부 AI 서비스"]
        Claude[Claude Sonnet 4.5]
        Nano[나노바나나]
    end


    subgraph Email["이메일 서비스"]
        Resend[Resend API]
    end


    UI <--> SSR
    SSR <--> Auth
    SSR <--> DB
    SSR <--> Storage
    SSR --> Claude
    SSR --> Nano
    SSR --> Resend
    Realtime --> UI
    
    subgraph Pretotype["생성된 프리토타입"]
        Page[프리토타입 페이지]
        Tracker[이벤트 트래커]
    end
    
    Page --> Edge
    Edge --> DB
    Tracker --> Realtime
```


---


## 2. 계층별 구조


### 2.1 프레젠테이션 계층 (Frontend)


| 구성요소 | 역할 | 기술 |
|:---|:---|:---|
| **메인 앱** | 사용자 인터페이스 (가설 입력, 에디터, 대시보드) | Next.js App Router |
| **프리토타입 페이지** | 생성된 검증 페이지 렌더링 | Next.js Dynamic Routes |
| **컴포넌트** | 재사용 가능한 UI 요소 | React + Tailwind + shadcn/ui |


**주요 라우트 구조**


```
/                       # 랜딩 페이지
/login                  # 로그인
/dashboard              # 사용자 대시보드 (내 프리토타입 목록)
/create                 # 새 프리토타입 생성 (XYZ 입력)
/create/generating      # AI 생성 중 화면
/edit/[id]              # 80/20 에디터
/preview/[id]           # 배포 전 미리보기
/analytics/[id]         # 개별 프리토타입 분석 대시보드
/p/[slug]               # 생성된 프리토타입 공개 페이지
```


---


### 2.2 애플리케이션 계층 (Backend)


| 구성요소 | 역할 | 기술 |
|:---|:---|:---|
| **API Routes** | 비즈니스 로직 처리 | Next.js Route Handlers |
| **AI 서비스 연동** | 카피/이미지 생성 요청 | Claude API, 나노바나나 API |
| **인증 미들웨어** | 사용자 세션 검증 | Supabase Auth |


**주요 API 엔드포인트**


```
POST /api/pretotype/create      # 프리토타입 생성 시작
POST /api/ai/generate-copy      # 카피라이팅 생성 (Claude)
POST /api/ai/generate-image     # 이미지 생성 (나노바나나)
PUT  /api/pretotype/[id]        # 프리토타입 수정
POST /api/pretotype/[id]/publish # 프리토타입 배포
GET  /api/pretotype/[id]/stats  # 통계 조회
POST /api/event/track           # 이벤트 기록 (방문, 클릭)
POST /api/lead/collect          # 리드(이메일) 수집
```


---


### 2.3 데이터 계층 (Database)


| 구성요소 | 역할 | 기술 |
|:---|:---|:---|
| **PostgreSQL** | 관계형 데이터 저장 | Supabase Database |
| **Storage** | 이미지 파일 저장 | Supabase Storage |
| **Realtime** | 실시간 데이터 동기화 | Supabase Realtime |


**데이터베이스 테이블 구조**


```
users
├── id (PK)
├── email
├── name
├── avatar_url
├── created_at
└── updated_at


pretotypes
├── id (PK)
├── user_id (FK → users)
├── slug (unique)
├── status (draft / published / archived)
├── xyz_hypothesis (JSON: {target, product, price})
├── generated_content (JSON: {headline, description, cta})
├── image_url
├── settings (JSON: {button_text, popup_message, theme})
├── created_at
├── published_at
└── updated_at


events
├── id (PK)
├── pretotype_id (FK → pretotypes)
├── event_type (view / button_click / form_submit)
├── visitor_id (익명 식별자)
├── metadata (JSON: {referrer, device, location})
├── created_at
└── ip_hash (개인정보 보호용 해시)


leads
├── id (PK)
├── pretotype_id (FK → pretotypes)
├── email
├── consent_agreed (boolean)
├── source (popup / inline)
├── created_at
└── visitor_id


traffic_boosts
├── id (PK)
├── pretotype_id (FK → pretotypes)
├── user_id (FK → users)
├── status (pending / active / completed)
├── budget
├── impressions
├── clicks
├── created_at
└── completed_at
```


---


### 2.4 외부 서비스 계층


| 서비스 | 역할 | 연동 방식 |
|:---|:---|:---|
| **Claude Sonnet 4.5** | 카피라이팅 생성 | Anthropic API |
| **나노바나나** | 제품 이미지 생성 | 나노바나나 API |
| **Resend** | 이메일 발송 | Resend API |
| **Vercel Analytics** | 기본 트래픽 분석 | 자동 연동 |


---


## 3. 핵심 플로우별 시스템 동작


### 3.1 프리토타입 생성 플로우


```mermaid
sequenceDiagram
    participant U as 사용자
    participant F as Frontend
    participant A as API Routes
    participant C as Claude API
    participant N as 나노바나나 API
    participant S as Supabase


    U->>F: XYZ 가설 입력
    F->>A: POST /api/pretotype/create
    A->>S: pretotype 레코드 생성 (status: draft)
    A->>C: 카피라이팅 요청
    C-->>A: 생성된 카피 반환
    A->>N: 이미지 생성 요청
    N-->>A: 이미지 URL 반환
    A->>S: 이미지 Storage 저장
    A->>S: pretotype 업데이트 (content, image_url)
    A-->>F: 생성 완료 응답
    F-->>U: 미리보기 화면 표시
```


**예상 소요 시간**: 60~120초
- Claude 카피 생성: ~10초
- 나노바나나 이미지 생성: ~30~90초
- DB 저장 및 응답: ~5초


---


### 3.2 프리토타입 페이지 방문 플로우


```mermaid
sequenceDiagram
    participant V as 방문자
    participant P as 프리토타입 페이지
    participant E as Edge Function
    participant S as Supabase
    participant R as Realtime


    V->>P: /p/[slug] 접속
    P->>E: 페이지 데이터 요청
    E->>S: pretotype 조회
    S-->>E: 페이지 데이터 반환
    E-->>P: 렌더링 데이터
    P-->>V: 페이지 표시
    
    P->>E: 이벤트 기록 (view)
    E->>S: events 테이블 INSERT
    S->>R: 실시간 업데이트 발행
    R-->>Dashboard: 방문자 수 업데이트
```


---


### 3.3 리드 수집 플로우


```mermaid
sequenceDiagram
    participant V as 방문자
    participant P as 프리토타입 페이지
    participant A as API Routes
    participant S as Supabase
    participant E as Resend


    V->>P: "사전 예약" 버튼 클릭
    P->>A: POST /api/event/track (button_click)
    P-->>V: 이메일 입력 팝업 표시
    V->>P: 이메일 입력 + 동의 체크
    P->>A: POST /api/lead/collect
    A->>S: leads 테이블 INSERT
    A->>S: events 테이블 INSERT (form_submit)
    A->>E: 확인 이메일 발송
    E-->>V: "등록 완료" 이메일
    A-->>P: 성공 응답
    P-->>V: "감사합니다" 메시지
```


---


## 4. 컴포넌트 상세


### 4.1 AI 생성 모듈


```
┌─────────────────────────────────────────────┐
│              AI Generation Service           │
├─────────────────────────────────────────────┤
│  Input: XYZ Hypothesis                       │
│  ├── Target (X): "다이어터"                   │
│  ├── Product (Y): "곤약 떡볶이 밀키트"         │
│  └── Price (Z): "15,000원"                   │
├─────────────────────────────────────────────┤
│  Process:                                    │
│  1. 프롬프트 구성 (XYZ → 마케팅 카피 요청)      │
│  2. Claude API 호출                          │
│  3. 응답 파싱 (headline, description, cta)   │
│  4. 이미지 프롬프트 구성                       │
│  5. 나노바나나 API 호출                       │
│  6. 이미지 URL 수신 및 저장                   │
├─────────────────────────────────────────────┤
│  Output:                                     │
│  ├── headline: "살 빠지는 떡볶이? 진짜 있다"   │
│  ├── description: "..."                      │
│  ├── cta: "지금 사전예약하고 30% 할인받기"     │
│  └── image_url: "https://..."               │
└─────────────────────────────────────────────┘
```


---


### 4.2 이벤트 트래킹 모듈


```
┌─────────────────────────────────────────────┐
│            Event Tracking Service            │
├─────────────────────────────────────────────┤
│  수집 이벤트:                                 │
│  ├── page_view: 페이지 조회                   │
│  ├── button_click: CTA 버튼 클릭             │
│  ├── form_open: 이메일 팝업 오픈              │
│  ├── form_submit: 이메일 제출                │
│  └── form_close: 팝업 닫기 (이탈)            │
├─────────────────────────────────────────────┤
│  수집 데이터:                                 │
│  ├── visitor_id: 익명 식별자 (쿠키 기반)       │
│  ├── referrer: 유입 경로                     │
│  ├── device: mobile / desktop / tablet       │
│  ├── timestamp: 이벤트 발생 시간             │
│  └── ip_hash: IP 해시 (지역 추정용)          │
├─────────────────────────────────────────────┤
│  처리 방식:                                   │
│  ├── 클라이언트: 이벤트 발생 즉시 API 호출     │
│  ├── 서버: Supabase INSERT + Realtime 발행   │
│  └── 대시보드: Realtime 구독으로 실시간 반영   │
└─────────────────────────────────────────────┘
```


---


## 5. 보안 및 권한 구조


### 5.1 인증 흐름


```
[비로그인 사용자]
    │
    ├── 접근 가능: 랜딩 페이지, 프리토타입 공개 페이지
    └── 접근 불가: 대시보드, 에디터, 생성 기능


[로그인 사용자]
    │
    ├── 본인 데이터: CRUD 모두 가능
    └── 타인 데이터: 공개 페이지만 조회 가능
```


### 5.2 Supabase RLS (Row Level Security)


```sql
-- pretotypes: 본인 것만 수정 가능
CREATE POLICY "Users can CRUD own pretotypes" ON pretotypes
    FOR ALL USING (auth.uid() = user_id);


-- events: 누구나 INSERT 가능 (방문자 추적)
CREATE POLICY "Anyone can insert events" ON events
    FOR INSERT WITH CHECK (true);


-- events: 소유자만 조회 가능
CREATE POLICY "Owners can view events" ON events
    FOR SELECT USING (
        pretotype_id IN (
            SELECT id FROM pretotypes WHERE user_id = auth.uid()
        )
    );


-- leads: 소유자만 조회 가능
CREATE POLICY "Owners can view leads" ON leads
    FOR SELECT USING (
        pretotype_id IN (
            SELECT id FROM pretotypes WHERE user_id = auth.uid()
        )
    );
```


---


## 6. 확장성 및 병목 지점


### 6.1 예상 병목 지점


| 지점 | 상황 | 대응 방안 |
|:---|:---|:---|
| **AI API 호출** | 동시 생성 요청 급증 | 큐 시스템 도입 (Vercel Queue 또는 Supabase Edge Function) |
| **이미지 저장** | Storage 용량 초과 | 오래된 미사용 이미지 정리 정책 |
| **이벤트 INSERT** | 트래픽 급증 시 DB 부하 | 배치 INSERT, 샘플링 도입 |
| **Realtime 연결** | 동시 대시보드 접속 증가 | Supabase Pro 플랜 업그레이드 |


### 6.2 확장 전략


**Phase 1 (MVP)**: 현재 구조 유지
- 동시 사용자 100명 이하 대응
- 무료 티어 범위 내 운영


**Phase 2 (성장기)**: 플랜 업그레이드
- Supabase Pro + Vercel Pro
- AI 호출 캐싱 도입 (유사 가설에 대한 응답 재사용)


**Phase 3 (확장기)**: 아키텍처 개선
- AI 생성 전용 워커 분리
- 이벤트 처리 전용 파이프라인 (Kafka 등)


---


## 7. 이 구조의 장점


| 장점 | 설명 |
|:---|:---|
| **단순성** | 서버 관리 없이 Vercel + Supabase로 풀스택 구현 |
| **빠른 개발** | Next.js API Routes로 프론트/백엔드 통합 개발 |
| **실시간 기능** | Supabase Realtime으로 대시보드 즉시 업데이트 |
| **비용 효율** | MVP 단계에서 거의 무료로 운영 가능 |
| **확장 용이** | 플랜 업그레이드만으로 스케일 가능, 아키텍처 변경 불필요 |


---


## 8. 잠재적 위험 및 대응


| 위험 | 영향 | 대응 |
|:---|:---|:---|
| Claude API 장애 | 프리토타입 생성 불가 | 에러 메시지 + 재시도 버튼 제공 |
| 나노바나나 API 장애 | 이미지 생성 불가 | 기본 플레이스홀더 이미지 사용, 나중에 재생성 |
| Supabase 장애 | 전체 서비스 마비 | Supabase 상태 페이지 모니터링, 사용자에게 안내 |
| Vercel 장애 | 전체 서비스 마비 | 발생 확률 낮음, 장애 시 대기 |


---


## 검토 요청


영탁님, 시스템 구조 초안입니다.


특히 다음 부분을 확인 부탁드립니다:
1. **전체 아키텍처**가 FlashCheck의 목적에 적합한지
2. **데이터베이스 테이블 구조**에서 누락되거나 불필요한 항목이 있는지


수정이 필요한 부분이 있으시면 말씀해 주세요. 괜찮으시면 다음 **유저 흐름 구조** 단계로 넘어가겠습니다.좋은 질문입니다. 전문가로서 솔직하게 분석해 드리겠습니다.


---


## 🤔 아이디어 분석: 템플릿 버전 선택 기능


### 제가 이해한 아이디어


> AI가 생성한 콘텐츠(카피, 이미지)를 **여러 레이아웃/디자인 템플릿**에 적용해서 보여주고, 사용자가 선택하게 한다.


예를 들어:
- **버전 A**: 미니멀한 Apple 스타일
- **버전 B**: 긴급함을 강조하는 세일즈 스타일
- **버전 C**: 신뢰감 있는 B2B 스타일


---


## ✅ 장점


| 장점 | 설명 |
|:---|:---|
| **사용자 통제감** | "AI가 다 정해줬네"보다 "내가 선택했다"는 느낌이 만족도를 높임 |
| **A/B 테스트 자연 연결** | 두 버전을 각각 배포해서 어떤 게 전환율이 높은지 테스트 가능 |
| **브랜드 매칭** | 업종/타겟에 따라 어울리는 톤이 다름. 선택권이 있으면 적합도 상승 |
| **차별화 요소** | 대부분의 랜딩페이지 빌더는 "빈 캔버스"를 줌. FlashCheck는 "완성된 옵션"을 줌 |


---


## ⚠️ 우려 사항


| 우려 | 설명 |
|:---|:---|
| **선택 장애** | "어떤 게 더 나을까?" 고민하다 시간 소모. FlashCheck의 "10분 완료" 가치와 충돌 |
| **MVP 복잡도** | 템플릿 2~3개 만들고 유지보수하는 건 생각보다 공수가 큼 |
| **품질 편차** | 같은 콘텐츠도 템플릿에 따라 다르게 보임. 모든 조합이 좋아 보이게 하기 어려움 |
| **결정 미루기** | "나중에 다시 볼게"하고 이탈할 가능성 |


---


## 🎯 제 판단


**아이디어 자체는 좋습니다. 다만 "언제, 어떻게" 도입하느냐가 중요합니다.**


### 권장하지 않는 방식


> MVP에서 처음부터 3~4개 템플릿을 만들어 선택하게 하는 것


이유:
- 개발 공수 증가
- 사용자 테스트 전에 "어떤 템플릿이 인기 있을지" 모름
- 선택지가 많으면 "빠른 검증"이라는 핵심 가치 희석


### 권장하는 방식


**Phase 1 (MVP)**: 템플릿 1개 + 톤앤매너 프리셋


```
[AI 생성 완료]
     ↓
[단일 레이아웃] + [톤 선택: 신뢰감 / 긴급함 / 친근함]
     ↓
톤 선택 시 → 컬러, 폰트, 버튼 스타일만 변경
     ↓
레이아웃은 동일
```


- 개발 공수 최소화 (CSS 변수만 바꾸면 됨)
- 사용자에게 선택권은 주되, 복잡하지 않음
- 어떤 톤이 인기 있는지 데이터 수집


**Phase 2 (검증 후)**: 레이아웃 템플릿 추가


```
[AI 생성 완료]
     ↓
[템플릿 선택: 미니멀 / 세일즈 / 카드형]
     ↓
[선택한 템플릿 미리보기]
     ↓
[톤 선택: 신뢰감 / 긴급함 / 친근함]
```


- Phase 1에서 수집한 데이터로 "가장 전환율 높은 템플릿" 파악
- 그 템플릿을 기본값으로 하고, 나머지는 옵션으로 제공
- A/B 테스트 기능과 함께 출시 ("두 템플릿으로 동시에 테스트해보세요")


---


## 📊 참고: 유명 UI 툴들의 접근법


| 서비스 | 접근법 | FlashCheck 적용 시사점 |
|:---|:---|:---|
| **Carrd** | 템플릿 먼저 선택 → 내용 채움 | 선택지가 많으면 시작 전에 이탈 |
| **Framer** | AI가 여러 버전 생성 → 선택 | 생성 시간이 길어짐 |
| **Webflow** | 빈 캔버스 or 템플릿 선택 | 자유도 높지만 진입장벽도 높음 |
| **Gamma (PPT AI)** | AI가 1개 생성 → 테마만 변경 | **FlashCheck에 가장 적합한 모델** |


---


## 💡 최종 제안


**MVP에서는 Gamma 방식**을 따르세요:


1. AI가 **하나의 완성본**을 생성
2. 사용자는 **톤/테마만 변경** (3가지 프리셋)
3. 레이아웃 자체는 건드리지 않음


**데이터가 쌓이면 Phase 2에서**:


1. 가장 전환율 높은 레이아웃 파악
2. 2~3개 템플릿 옵션 제공
3. A/B 테스트 기능과 연계 ("두 버전으로 동시 테스트")


---


이 방향으로 시스템 구조에 반영할까요? 아니면 다른 생각이 있으시면 말씀해 주세요.반영하고 유저 흐름 구조로 넘어가겠습니다.


---


## ✅ 시스템 구조 반영 사항


### 추가: 톤/테마 프리셋 시스템


**데이터베이스 테이블 수정 (pretotypes)**


```sql
pretotypes
├── ...기존 필드...
├── theme (기본값: 'trust')  -- trust / urgency / friendly
└── ...
```


**테마별 스타일 정의**


| 테마 | 컬러 | 폰트 | 버튼 스타일 | 적합한 상황 |
|:---|:---|:---|:---|:---|
| **trust (신뢰감)** | 네이비 + 화이트 | 세리프 계열 | 둥근 모서리, 차분한 색 | B2B, 고가 제품 |
| **urgency (긴급함)** | 레드 + 블랙 | 볼드 산세리프 | 강한 대비, CTA 강조 | 한정 판매, 프로모션 |
| **friendly (친근함)** | 파스텔 톤 | 라운드 산세리프 | 부드러운 그림자 | D2C, 라이프스타일 |


**Phase 2 확장 예정**: 레이아웃 템플릿 선택 + A/B 테스트 연계


---


# 👤 FlashCheck 유저 흐름 구조 (초안)


## 페르소나: Julie Zhuo
> *전 Facebook 디자인 VP, 『매니저의 길』 저자*
> *"좋은 UX는 사용자가 '생각하지 않아도' 다음 행동을 알게 한다. 매 순간 사용자의 감정을 설계하라."*


---


## 1. 전체 유저 여정 개요


```
[인지] → [가입] → [생성] → [편집] → [배포] → [분석] → [재방문]
```


| 단계 | 사용자 목표 | 핵심 감정 | 성공 기준 |
|:---|:---|:---|:---|
| 인지 | "이게 뭐지? 나한테 필요한가?" | 호기심 | 가입 클릭 |
| 가입 | "빨리 시작하고 싶다" | 기대감 | 30초 내 완료 |
| 생성 | "내 아이디어를 입력하자" | 설렘 | XYZ 입력 완료 |
| 대기 | "AI가 만들어주는 중" | 기대 + 약간의 불안 | 이탈 없이 완료 대기 |
| 확인 | "오, 이렇게 나오는구나" | 놀라움 | 미리보기 확인 |
| 편집 | "조금만 다듬으면 되겠다" | 효능감 | 10분 내 완료 |
| 배포 | "세상에 공개하자" | 긴장 + 흥분 | 배포 버튼 클릭 |
| 분석 | "사람들이 어떻게 반응하지?" | 궁금함 | 대시보드 확인 |
| 재방문 | "다른 아이디어도 테스트하자" | 신뢰 | 새 프리토타입 생성 |


---


## 2. 단계별 상세 흐름


### 2.1 랜딩 페이지 → 가입


```
┌─────────────────────────────────────────────────────────┐
│                    랜딩 페이지                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│     "상상은 그만, 10분 만에 증명하세요"                    │
│                                                         │
│     [아이디어가 있다면 지금 바로 검증하기] ← 메인 CTA      │
│                                                         │
│     ─────────────────────────────────────               │
│     작동 방식:                                           │
│     1. 누가, 무엇을, 얼마에 - 3가지만 입력                │
│     2. AI가 검증 페이지를 자동 생성                       │
│     3. 실제 고객 반응을 데이터로 확인                     │
│                                                         │
│     [샘플 보기] ← 보조 CTA                               │
│                                                         │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                    로그인/가입                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│     [Google로 계속하기]                                  │
│     [카카오로 계속하기]                                  │
│                                                         │
│     ※ 별도 회원가입 폼 없음 (소셜 로그인만)               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 소셜 로그인만 제공하여 가입 시간 최소화 (30초 이내)
- 메인 CTA 문구에 "10분"을 포함하여 속도 강조
- 샘플 페이지를 보여줘서 "결과물이 어떻게 나오는지" 미리 확인 가능


---


### 2.2 XYZ 가설 입력


```
┌─────────────────────────────────────────────────────────┐
│                  새 프리토타입 만들기                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  당신의 아이디어를 3가지로 정리해주세요.                   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 누구에게 팔 건가요? (타겟)                        │   │
│  │                                                  │   │
│  │ [다이어트 중인 20-30대 여성        ]             │   │
│  │                                                  │   │
│  │ 예: 바쁜 직장인, 육아맘, 대학생, 반려동물 키우는 사람 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 무엇을 팔 건가요? (제품/서비스)                    │   │
│  │                                                  │   │
│  │ [곤약으로 만든 저칼로리 떡볶이 밀키트  ]           │   │
│  │                                                  │   │
│  │ 예: 온라인 클래스, 구독 서비스, 실물 제품           │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 얼마에 팔 건가요? (가격)                          │   │
│  │                                                  │   │
│  │ [15,000원                        ]               │   │
│  │                                                  │   │
│  │ 예: 9,900원, 월 29,000원, 무료 (유료 전환 유도)    │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│              [AI가 검증 페이지 만들기] ← CTA             │
│                                                         │
│  💡 팁: 완벽하지 않아도 괜찮아요.                        │
│     대충 적어도 AI가 알아서 다듬어줍니다.                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 입력 필드 3개만 (진입장벽 최소화)
- 각 필드에 예시 제공 (무엇을 적어야 할지 고민 감소)
- "완벽하지 않아도 된다"는 메시지로 심리적 부담 감소
- 입력 중간에 저장되어 이탈 후 재방문 시 이어서 작성 가능


---


### 2.3 AI 생성 중 (대기 화면)


```
┌─────────────────────────────────────────────────────────┐
│                  AI가 열심히 만드는 중...                 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│           🎨 검증 페이지를 만들고 있어요                  │
│                                                         │
│     ┌───────────────────────────────────────┐          │
│     │  ✅ 타겟 고객 분석 완료                 │          │
│     │  ✅ 마케팅 카피 작성 완료               │          │
│     │  🔄 제품 이미지 생성 중... (45초)       │          │
│     │  ⏳ 페이지 조립 대기 중                 │          │
│     └───────────────────────────────────────┘          │
│                                                         │
│     ─────────────────────────────────────────          │
│                                                         │
│     💡 알고 계셨나요?                                   │
│     "스타트업 실패의 42%는 시장 수요 부재입니다.          │
│      지금 당신은 그 실수를 피하고 있어요."                │
│                                                         │
│     ─────────────────────────────────────────          │
│                                                         │
│     예상 완료 시간: 약 1분 30초                          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 단계별 진행 상황 표시 (무한 로딩 느낌 방지)
- 대기 시간 동안 유용한 정보 제공 (서비스 가치 재확인)
- 예상 완료 시간 표시 (불확실성 감소)
- 이 화면에서 이탈해도 생성은 계속 진행, 나중에 대시보드에서 확인 가능


---


### 2.4 생성 완료 → 미리보기


```
┌─────────────────────────────────────────────────────────┐
│                    🎉 완성됐어요!                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                  │   │
│  │    [모바일 미리보기 화면]                         │   │
│  │                                                  │   │
│  │    ┌─────────────────────────────┐              │   │
│  │    │  살 빠지는 떡볶이?           │              │   │
│  │    │  진짜 있습니다.              │              │   │
│  │    │                             │              │   │
│  │    │  [제품 이미지]               │              │   │
│  │    │                             │              │   │
│  │    │  곤약 떡볶이 밀키트          │              │   │
│  │    │  15,000원                   │              │   │
│  │    │                             │              │   │
│  │    │  [지금 사전예약하기]         │              │   │
│  │    └─────────────────────────────┘              │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│     테마 선택:                                          │
│     [🔵 신뢰감] [🔴 긴급함] [🟢 친근함]                  │
│                                                         │
│  ┌──────────────────┐  ┌──────────────────┐           │
│  │  🚀 바로 배포하기  │  │  ✏️ 조금 다듬기   │           │
│  └──────────────────┘  └──────────────────┘           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 모바일 뷰를 기본으로 표시 (실제 광고 유입의 95%가 모바일)
- 테마 선택을 이 화면에서 바로 가능 (원클릭 변경, 미리보기 즉시 반영)
- 두 가지 명확한 선택지 제공 (결정 피로 최소화)
- "바로 배포"를 왼쪽에 배치하여 기본 선택으로 유도


---


### 2.5 80/20 에디터


```
┌─────────────────────────────────────────────────────────┐
│  ← 미리보기로 돌아가기                    [저장] [배포]  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                  │   │
│  │  ┌─────────────────────────────────────────┐    │   │
│  │  │ 살 빠지는 떡볶이? 진짜 있습니다.    [✏️] │    │   │
│  │  └─────────────────────────────────────────┘    │   │
│  │                 ↑ 클릭하면 인라인 편집           │   │
│  │                                                  │   │
│  │  ┌─────────────────────────────────────────┐    │   │
│  │  │           [제품 이미지]                  │    │   │
│  │  │                                         │    │   │
│  │  │   [🎲 재생성] [📁 업로드] [🔍 검색]      │    │   │
│  │  └─────────────────────────────────────────┘    │   │
│  │                                                  │   │
│  │  ┌─────────────────────────────────────────┐    │   │
│  │  │ 다이어트 중에도 떡볶이를 포기할       [✏️] │    │   │
│  │  │ 수 없는 당신을 위해...                    │    │   │
│  │  │                                         │    │   │
│  │  │ [✨ AI 다시 쓰기]                        │    │   │
│  │  └─────────────────────────────────────────┘    │   │
│  │                                                  │   │
│  │  버튼 문구: [지금 사전예약하기      ] [✏️]       │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│  ⚠️ 프리토타입은 '완벽함'이 아니라 '속도'가 생명입니다.   │
│     에디터에서 20분 이상 쓰지 마세요!  [⏱️ 8분 경과]     │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│                    [↩️ AI 원본으로 복구]                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 인라인 편집: 클릭하면 바로 수정 (별도 편집 모드 없음)
- 이미지 옵션 3가지: 재생성 / 내 이미지 업로드 / 스톡 검색
- "AI 다시 쓰기": 문구가 마음에 안 들 때 원클릭 재생성
- 시간 경과 표시 + 경고 메시지: 완벽주의 함정 방지
- 원본 복구 버튼: 수정하다 망쳤을 때 안전망 제공


---


### 2.6 배포 완료


```
┌─────────────────────────────────────────────────────────┐
│                   🚀 배포 완료!                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│     검증 페이지가 세상에 공개되었습니다.                   │
│                                                         │
│     ┌─────────────────────────────────────────────┐    │
│     │  🔗 flashcheck.com/p/diet-tteokbokki        │    │
│     │                                [복사] [공유] │    │
│     └─────────────────────────────────────────────┘    │
│                                                         │
│     ─────────────────────────────────────────────────  │
│                                                         │
│     📢 이제 사람들에게 보여줄 차례예요!                   │
│                                                         │
│     방문자가 없으면 데이터도 없습니다.                    │
│     트래픽 부스터로 타겟 고객에게 바로 노출해보세요.       │
│                                                         │
│     ┌─────────────────────────────────────────────┐    │
│     │  🚀 트래픽 부스터                            │    │
│     │                                             │    │
│     │  인스타그램 타겟 광고로 500명에게 노출        │    │
│     │  예상 방문자: 50~100명                       │    │
│     │                                             │    │
│     │  50,000원                                   │    │
│     │                                             │    │
│     │  [트래픽 부스터 신청하기]                     │    │
│     └─────────────────────────────────────────────┘    │
│                                                         │
│     [나중에 하기 → 대시보드로 이동]                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 링크 복사/공유 버튼으로 즉시 확산 유도
- 트래픽 부스터를 자연스럽게 노출 (강제 아님, 스킵 가능)
- "방문자가 없으면 데이터도 없다"는 메시지로 필요성 인식
- 명확한 가격과 기대 효과 표시


---


### 2.7 대시보드 (분석)


```
┌─────────────────────────────────────────────────────────┐
│  FlashCheck        [+ 새 프리토타입]         [내 계정]   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📊 곤약 떡볶이 밀키트                                   │
│     배포일: 2026.02.01 | 상태: 🟢 활성                   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                  │   │
│  │   방문자        버튼 클릭       이메일 수집       │   │
│  │   ┌─────┐      ┌─────┐       ┌─────┐          │   │
│  │   │ 127 │      │  23 │       │  11 │          │   │
│  │   └─────┘      └─────┘       └─────┘          │   │
│  │                                                  │   │
│  │   클릭률: 18.1%    전환율: 8.7%                  │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🤖 AI 판정                                      │   │
│  │                                                  │   │
│  │  ✅ GO - 진행을 권장합니다                        │   │
│  │                                                  │   │
│  │  "클릭률 18%는 평균(2~5%)을 크게 상회합니다.      │   │
│  │   전환율 8.7%도 준수한 수준입니다.                │   │
│  │   11명의 잠재 고객이 실제 관심을 보였습니다.       │   │
│  │   이 아이디어는 시장성이 있어 보입니다."           │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📧 수집된 이메일 (11건)              [다운로드]  │   │
│  │                                                  │   │
│  │  user1@gmail.com    2026.02.01 14:23            │   │
│  │  user2@naver.com    2026.02.01 15:01            │   │
│  │  ...                                            │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [페이지 수정] [트래픽 부스터 추가] [공유 링크 복사]      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```


**설계 의도**
- 핵심 지표 3개만 크게 표시 (정보 과부하 방지)
- AI 판정을 명확하게 제공 (Go/Drop + 근거 설명)
- 수집된 이메일 즉시 다운로드 가능 (실질적 가치 제공)
- 다음 행동 옵션 명확히 제시


---


## 3. 핵심 유저 흐름 요약


```mermaid
flowchart TD
    A[랜딩 페이지] --> B[소셜 로그인]
    B --> C[XYZ 가설 입력]
    C --> D[AI 생성 중...]
    D --> E[미리보기 + 테마 선택]
    
    E --> F{선택}
    F -->|바로 배포| G[배포 완료]
    F -->|다듬기| H[80/20 에디터]
    H --> G
    
    G --> I{트래픽 부스터?}
    I -->|신청| J[결제]
    I -->|나중에| K[대시보드]
    J --> K
    
    K --> L{결과 확인}
    L -->|Go 판정| M[실제 개발 진행]
    L -->|Drop 판정| N[아이디어 수정 or 폐기]
    L -->|데이터 부족| O[트래픽 부스터 추가]
    
    N --> C
    O --> J
```


---


## 4. 이탈 방지 포인트


| 단계 | 이탈 위험 | 대응 |
|:---|:---|:---|
| 가입 | 회원가입 귀찮음 | 소셜 로그인만 (30초 완료) |
| XYZ 입력 | 뭘 써야 할지 모름 | 예시 + "대충 써도 된다" 메시지 |
| AI 생성 | 시간 오래 걸림 | 진행 상황 표시 + 유용한 정보 제공 |
| 미리보기 | "별로인데?" | 테마 변경 원클릭 + 에디터 유도 |
| 에디터 | 완벽주의 함정 | 시간 경고 + 원본 복구 버튼 |
| 배포 후 | "이제 뭐하지?" | 트래픽 부스터 자연스럽게 제안 |
| 대시보드 | 데이터 없음 | 트래픽 부스터 재안내 |


---


## 5. 감정 곡선 설계


```
감정
높음 │        ★ 생성 완료                    ★ Go 판정!
     │       ↗  (놀라움)     ★ 배포 완료     ↗ (성취감)
     │      ↗               ↗  (흥분)      ↗
     │  ★ 시작             ↗              ↗
     │  ↗ (기대)          ↗   ↘          ↗
     │ ↗                 ↗     ↘ 대기    ↗
     │↗                 ↗       (궁금함) ↗
     ├──────────────────────────────────────────→ 시간
낮음 │ 가입  입력  생성중  완료  편집  배포  분석


     ※ 생성 중 "불안"이 생기지 않도록 진행 상황 표시
     ※ Drop 판정 시에도 "좋은 데이터를 얻었다"로 긍정 프레이밍
```


---


## 검토 요청


영탁님, 유저 흐름 구조 초안입니다.


특히 다음 부분을 확인 부탁드립니다:
1. **전체 흐름**이 "10분 안에 검증"이라는 핵심 가치에 부합하는지
2. **각 화면의 구성요소**에서 추가하거나 빼고 싶은 것이 있는지


수정이 필요한 부분이 있으시면 말씀해 주세요. 괜찮으시면 마지막 **데이터 흐름 구조** 단계로 넘어가겠습니다.데이터 흐름 구조로 넘어가겠습니다.


---


# 🔄 FlashCheck 데이터 흐름 구조 (초안)


## 페르소나: Jay Kreps
> *Confluent CEO, Apache Kafka 창시자*
> *"데이터는 조직의 혈액이다. 어디서 생성되고, 어디로 흐르고, 어디에 저장되는지 명확히 알아야 한다."*


---


## 1. 데이터 유형 분류


FlashCheck에서 다루는 데이터는 크게 4가지로 분류됩니다.


| 유형 | 설명 | 예시 |
|:---|:---|:---|
| **사용자 데이터** | 서비스 이용자 정보 | 이메일, 이름, 프로필 |
| **콘텐츠 데이터** | AI가 생성하고 사용자가 편집한 결과물 | 카피, 이미지, 설정 |
| **행동 데이터** | 프리토타입 페이지 방문자의 행동 | 페이지뷰, 클릭, 이탈 |
| **리드 데이터** | 방문자가 남긴 연락처 | 이메일, 동의 여부 |


---


## 2. 전체 데이터 흐름 개요


```mermaid
flowchart LR
    subgraph Input["입력"]
        U[사용자 입력]
        AI[AI 생성]
        V[방문자 행동]
    end


    subgraph Process["처리"]
        API[API Routes]
        Edge[Edge Functions]
    end


    subgraph Storage["저장"]
        DB[(PostgreSQL)]
        S3[Storage]
        RT[Realtime]
    end


    subgraph Output["출력"]
        UI[대시보드]
        Page[프리토타입 페이지]
        Export[이메일 다운로드]
    end


    U --> API
    AI --> API
    API --> DB
    API --> S3
    
    V --> Edge
    Edge --> DB
    DB --> RT
    RT --> UI
    
    DB --> UI
    DB --> Page
    DB --> Export
```


---


## 3. 데이터 흐름 상세


### 3.1 프리토타입 생성 데이터 흐름


```
┌─────────────────────────────────────────────────────────────────┐
│                    프리토타입 생성 흐름                           │
└─────────────────────────────────────────────────────────────────┘


[사용자]
    │
    │ XYZ 가설 입력
    │ {target: "다이어터", product: "곤약 떡볶이", price: "15000"}
    ▼
[Frontend]
    │
    │ POST /api/pretotype/create
    │ Body: {xyz_hypothesis, user_id}
    ▼
[API Route]
    │
    ├──────────────────────────────────────┐
    │                                      │
    │ 1. pretotype 레코드 생성              │
    │    status: "generating"              │
    ▼                                      │
[Supabase DB]                              │
    │                                      │
    │ INSERT pretotypes                    │
    │ RETURN pretotype_id                  │
    │                                      │
    ▼                                      │
[API Route]                                │
    │                                      │
    │ 2. Claude API 호출                   │
    │    Prompt: XYZ → 마케팅 카피 생성     │
    ▼                                      │
[Claude Sonnet 4.5]                        │
    │                                      │
    │ Response:                            │
    │ {headline, description, cta}         │
    ▼                                      │
[API Route]                                │
    │                                      │
    │ 3. 나노바나나 API 호출                │
    │    Prompt: 제품 이미지 생성           │
    ▼                                      │
[나노바나나]                                │
    │                                      │
    │ Response: image_url                  │
    ▼                                      │
[API Route]                                │
    │                                      │
    │ 4. 이미지 Storage 저장               │
    ▼                                      │
[Supabase Storage]                         │
    │                                      │
    │ UPLOAD image                         │
    │ RETURN storage_url                   │
    ▼                                      │
[API Route] ◄──────────────────────────────┘
    │
    │ 5. pretotype 업데이트
    │    generated_content, image_url, status: "draft"
    ▼
[Supabase DB]
    │
    │ UPDATE pretotypes
    ▼
[Frontend]
    │
    │ 생성 완료 응답
    ▼
[사용자]
    │
    │ 미리보기 화면 표시
    ▼
```


**데이터 포맷**


```json
// pretotypes 테이블 레코드
{
  "id": "uuid",
  "user_id": "uuid",
  "slug": "diet-tteokbokki-abc123",
  "status": "draft",
  "xyz_hypothesis": {
    "target": "다이어트 중인 20-30대 여성",
    "product": "곤약으로 만든 저칼로리 떡볶이 밀키트",
    "price": "15000"
  },
  "generated_content": {
    "headline": "살 빠지는 떡볶이? 진짜 있습니다.",
    "description": "다이어트 중에도 떡볶이를 포기할 수 없는 당신을 위해...",
    "cta": "지금 사전예약하고 30% 할인받기"
  },
  "image_url": "https://storage.supabase.co/...",
  "theme": "trust",
  "settings": {
    "button_text": "지금 사전예약하기",
    "popup_title": "출시 알림 받기",
    "popup_message": "현재 준비 중입니다. 이메일을 남겨주시면 출시 시 가장 먼저 알려드립니다."
  },
  "created_at": "2026-02-01T10:00:00Z",
  "updated_at": "2026-02-01T10:02:00Z",
  "published_at": null
}
```


---


### 3.2 프리토타입 페이지 방문 데이터 흐름


```
┌─────────────────────────────────────────────────────────────────┐
│                    페이지 방문 & 이벤트 추적 흐름                  │
└─────────────────────────────────────────────────────────────────┘


[방문자]
    │
    │ /p/diet-tteokbokki-abc123 접속
    ▼
[Edge Function]
    │
    │ 1. pretotype 데이터 조회
    ▼
[Supabase DB]
    │
    │ SELECT * FROM pretotypes WHERE slug = ?
    │ RETURN pretotype 데이터
    ▼
[Edge Function]
    │
    │ 2. 페이지 렌더링 데이터 반환
    ▼
[프리토타입 페이지]
    │
    │ 3. 페이지 표시 완료
    │
    │ ─────────────────────────────────
    │ 이벤트 트래킹 시작
    │ ─────────────────────────────────
    │
    │ 4. page_view 이벤트 전송
    │    {event_type: "page_view", visitor_id, metadata}
    ▼
[Edge Function]
    │
    │ 5. 이벤트 저장
    ▼
[Supabase DB]
    │
    │ INSERT INTO events
    │
    │ 6. Realtime 발행
    ▼
[Supabase Realtime]
    │
    │ 7. 구독자에게 푸시
    ▼
[대시보드 UI]
    │
    │ 방문자 수 실시간 업데이트
    ▼
```


**이벤트 데이터 포맷**


```json
// events 테이블 레코드
{
  "id": "uuid",
  "pretotype_id": "uuid",
  "event_type": "page_view",  // page_view | button_click | form_open | form_submit | form_close
  "visitor_id": "anonymous-uuid-from-cookie",
  "metadata": {
    "referrer": "https://instagram.com",
    "device": "mobile",
    "browser": "Chrome",
    "os": "iOS",
    "screen_width": 390,
    "country": "KR",
    "city": "Seoul"
  },
  "ip_hash": "sha256-hashed-ip",
  "created_at": "2026-02-01T14:23:45Z"
}
```


---


### 3.3 리드 수집 데이터 흐름


```
┌─────────────────────────────────────────────────────────────────┐
│                    리드(이메일) 수집 흐름                         │
└─────────────────────────────────────────────────────────────────┘


[방문자]
    │
    │ 1. "사전 예약" 버튼 클릭
    ▼
[프리토타입 페이지]
    │
    │ 2. button_click 이벤트 전송
    ▼
[Edge Function] → [Supabase DB] (events INSERT)
    │
    ▼
[프리토타입 페이지]
    │
    │ 3. 이메일 입력 팝업 표시
    │
    │ 4. form_open 이벤트 전송
    ▼
[Edge Function] → [Supabase DB] (events INSERT)
    │
    ▼
[방문자]
    │
    │ 5. 이메일 입력 + 개인정보 동의 체크
    │    {email: "user@example.com", consent: true}
    ▼
[프리토타입 페이지]
    │
    │ 6. POST /api/lead/collect
    ▼
[API Route]
    │
    ├─────────────────────────────────┐
    │                                 │
    │ 7. 이메일 유효성 검증            │
    │ 8. 중복 체크                    │
    ▼                                 │
[Supabase DB]                         │
    │                                 │
    │ INSERT INTO leads               │
    │                                 │
    ▼                                 │
[API Route]                           │
    │                                 │
    │ 9. form_submit 이벤트 저장       │
    ▼                                 │
[Supabase DB]                         │
    │                                 │
    │ INSERT INTO events              │
    │                                 │
    ▼                                 │
[API Route]                           │
    │                                 │
    │ 10. 확인 이메일 발송             │
    ▼                                 │
[Resend API]                          │
    │                                 │
    │ 이메일 전송                      │
    ▼                                 │
[방문자 이메일함]                       │
    │                                 │
    ▼                                 │
[API Route] ◄─────────────────────────┘
    │
    │ 11. 성공 응답
    ▼
[프리토타입 페이지]
    │
    │ "감사합니다" 메시지 표시
    ▼
[Supabase Realtime]
    │
    │ 12. 대시보드 실시간 업데이트
    ▼
[대시보드 UI]
    │
    │ 이메일 수집 수 +1
    ▼
```


**리드 데이터 포맷**


```json
// leads 테이블 레코드
{
  "id": "uuid",
  "pretotype_id": "uuid",
  "email": "user@example.com",
  "consent_agreed": true,
  "consent_text": "출시 알림 및 할인 쿠폰 발송을 위해 이메일을 수집합니다.",
  "source": "popup",  // popup | inline
  "visitor_id": "anonymous-uuid",
  "created_at": "2026-02-01T14:25:30Z"
}
```


---


### 3.4 대시보드 데이터 흐름


```
┌─────────────────────────────────────────────────────────────────┐
│                    대시보드 데이터 조회 흐름                      │
└─────────────────────────────────────────────────────────────────┘


[사용자]
    │
    │ 대시보드 접속
    ▼
[Frontend]
    │
    │ 1. 초기 데이터 로드
    │    GET /api/pretotype/[id]/stats
    ▼
[API Route]
    │
    │ 2. 통계 데이터 집계 쿼리
    ▼
[Supabase DB]
    │
    │ SELECT
    │   COUNT(*) FILTER (WHERE event_type = 'page_view') as views,
    │   COUNT(*) FILTER (WHERE event_type = 'button_click') as clicks,
    │   COUNT(*) FROM leads WHERE pretotype_id = ?
    │
    │ RETURN aggregated stats
    ▼
[API Route]
    │
    │ 3. Go/Drop 판정 로직 실행
    │    (클릭률, 전환율 기준)
    ▼
[Frontend]
    │
    │ 4. 대시보드 렌더링
    │
    │ ─────────────────────────────────
    │ 실시간 업데이트 구독
    │ ─────────────────────────────────
    │
    │ 5. Supabase Realtime 구독
    │    events 테이블 변경 감지
    ▼
[Supabase Realtime]
    │
    │ 6. 새 이벤트 발생 시 푸시
    ▼
[Frontend]
    │
    │ 7. 화면 실시간 업데이트
    │    (방문자 수, 클릭 수 등)
    ▼
```


**대시보드 통계 데이터 포맷**


```json
// GET /api/pretotype/[id]/stats 응답
{
  "pretotype_id": "uuid",
  "period": {
    "start": "2026-02-01T00:00:00Z",
    "end": "2026-02-01T23:59:59Z"
  },
  "metrics": {
    "views": 127,
    "button_clicks": 23,
    "form_opens": 18,
    "form_submits": 11,
    "form_closes": 7
  },
  "rates": {
    "click_rate": 18.1,      // (clicks / views) * 100
    "conversion_rate": 8.7   // (submits / views) * 100
  },
  "leads_count": 11,
  "verdict": {
    "result": "GO",
    "confidence": "high",
    "reasoning": "클릭률 18%는 평균(2~5%)을 크게 상회합니다. 전환율 8.7%도 준수한 수준입니다."
  },
  "device_breakdown": {
    "mobile": 89,
    "desktop": 32,
    "tablet": 6
  },
  "referrer_breakdown": {
    "instagram.com": 78,
    "facebook.com": 23,
    "direct": 26
  }
}
```


---


## 4. 데이터 저장소별 역할


| 저장소 | 역할 | 저장 데이터 |
|:---|:---|:---|
| **Supabase PostgreSQL** | 관계형 데이터 저장 | users, pretotypes, events, leads, traffic_boosts |
| **Supabase Storage** | 파일 저장 | AI 생성 이미지, 사용자 업로드 이미지 |
| **Supabase Realtime** | 실시간 데이터 동기화 | events 테이블 변경 사항 |
| **브라우저 Cookie** | 익명 방문자 식별 | visitor_id (UUID) |
| **브라우저 LocalStorage** | 임시 데이터 | XYZ 입력 중간 저장 (이탈 방지) |


---


## 5. 데이터 보안 및 개인정보 처리


### 5.1 개인정보 분류


| 데이터 | 분류 | 처리 방침 |
|:---|:---|:---|
| 사용자 이메일 (로그인) | 개인정보 | Supabase Auth 관리, 암호화 저장 |
| 리드 이메일 | 개인정보 | 동의 기반 수집, 암호화 저장, 목적 달성 후 삭제 가능 |
| 방문자 IP | 개인정보 | 해시 처리 후 저장 (원본 미저장) |
| visitor_id | 비개인정보 | 쿠키 기반 익명 식별자 |
| 행동 데이터 | 비개인정보 | 익명화된 상태로 저장 |


### 5.2 데이터 암호화


```
┌─────────────────────────────────────────────────────────────────┐
│                    암호화 적용 범위                              │
└─────────────────────────────────────────────────────────────────┘


[전송 중 암호화]
├── Frontend ↔ API: HTTPS (TLS 1.3)
├── API ↔ Supabase: HTTPS
├── API ↔ AI APIs: HTTPS
└── API ↔ Resend: HTTPS


[저장 시 암호화]
├── Supabase DB: AES-256 (Supabase 기본 제공)
├── Supabase Storage: AES-256 (Supabase 기본 제공)
└── 리드 이메일: 추가 애플리케이션 레벨 암호화 권장
```


### 5.3 데이터 보존 정책


| 데이터 | 보존 기간 | 삭제 조건 |
|:---|:---|:---|
| 사용자 계정 | 탈퇴 시까지 | 탈퇴 요청 시 30일 내 삭제 |
| 프리토타입 | 무기한 | 사용자 삭제 요청 시 |
| 이벤트 데이터 | 1년 | 자동 삭제 (배치 작업) |
| 리드 이메일 | 수집 후 1년 | 목적 달성 또는 기간 만료 시 |
| AI 생성 이미지 | 프리토타입 삭제 시 | 프리토타입과 함께 삭제 |


---


## 6. 데이터 흐름 다이어그램 (종합)


```mermaid
flowchart TB
    subgraph Users["사용자 영역"]
        Owner[서비스 사용자]
        Visitor[프리토타입 방문자]
    end


    subgraph Frontend["프론트엔드"]
        MainApp[메인 앱]
        PretotypePage[프리토타입 페이지]
        Dashboard[대시보드]
    end


    subgraph Backend["백엔드"]
        APIRoutes[API Routes]
        EdgeFunctions[Edge Functions]
    end


    subgraph Database["데이터베이스"]
        Users_TB[(users)]
        Pretotypes_TB[(pretotypes)]
        Events_TB[(events)]
        Leads_TB[(leads)]
        Storage[(Storage)]
    end


    subgraph External["외부 서비스"]
        Claude[Claude API]
        Nano[나노바나나 API]
        Resend[Resend API]
    end


    subgraph Realtime["실시간"]
        RT[Supabase Realtime]
    end


    %% 사용자 → 프론트엔드
    Owner --> MainApp
    Visitor --> PretotypePage


    %% 프론트엔드 → 백엔드
    MainApp --> APIRoutes
    PretotypePage --> EdgeFunctions
    Dashboard --> APIRoutes


    %% 백엔드 → 데이터베이스
    APIRoutes --> Users_TB
    APIRoutes --> Pretotypes_TB
    APIRoutes --> Leads_TB
    APIRoutes --> Storage
    EdgeFunctions --> Events_TB


    %% 백엔드 → 외부 서비스
    APIRoutes --> Claude
    APIRoutes --> Nano
    APIRoutes --> Resend


    %% 외부 서비스 → 백엔드
    Claude --> APIRoutes
    Nano --> APIRoutes


    %% 데이터베이스 → 실시간
    Events_TB --> RT
    Leads_TB --> RT


    %% 실시간 → 프론트엔드
    RT --> Dashboard
```


---


## 7. 데이터 흐름 검증 포인트


| 검증 항목 | 검증 방법 | 기대 결과 |
|:---|:---|:---|
| AI 생성 데이터 저장 | 생성 후 DB 조회 | generated_content 필드에 정상 저장 |
| 이벤트 실시간 반영 | 방문 후 대시보드 확인 | 3초 내 방문자 수 증가 |
| 리드 중복 방지 | 동일 이메일 2회 제출 | 1건만 저장, 에러 메시지 표시 |
| 데이터 격리 | 타 사용자 API 호출 | 403 Forbidden |
| 이미지 저장 | 생성 후 URL 접근 | 이미지 정상 로드 |


---


## 8. 확장 시 데이터 흐름 변경 사항


### Phase 2: A/B 테스트 추가 시


```
pretotypes 테이블 확장:
├── variant (A | B | control)
├── parent_id (FK → pretotypes, A/B 테스트 그룹 식별)
└── ...


events 테이블 확장:
├── variant (A | B | control)
└── ...
```


### Phase 3: 자동 광고 집행 시


```
새 테이블: ad_campaigns
├── id
├── pretotype_id
├── platform (meta | google)
├── status (pending | active | paused | completed)
├── budget
├── spent
├── impressions
├── clicks
├── meta_campaign_id (외부 연동)
└── ...
```


---


## 검토 요청


영탁님, 데이터 흐름 구조 초안입니다. 이것으로 6개 문서가 모두 완성되었습니다.


전체 문서 요약:
1. ✅ 서비스 개요
2. ✅ PRD
3. ✅ 기술 스택
4. ✅ 시스템 구조
5. ✅ 유저 흐름 구조
6. ✅ 데이터 흐름 구조


수정이 필요한 부분이 있으시면 말씀해 주세요. 괜찮으시면 **전체 문서를 정리하여 파일로 제공**해 드릴까요?